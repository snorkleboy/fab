(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[115],{

/***/ "./frontend/baseApp/store/reducers/locationReducers/locationReceiverReducer.js":
/*!*************************************************************************************!*\
  !*** ./frontend/baseApp/store/reducers/locationReducers/locationReceiverReducer.js ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _mapActions = __webpack_require__(/*! ../../actions/mapActions/mapActions */ \"./frontend/baseApp/store/actions/mapActions/mapActions.js\");\n\nvar _workOrder = __webpack_require__(/*! ../../../../../util/workOrder */ \"./util/workOrder.js\");\n\nvar _Lodash = __webpack_require__(/*! Lodash */ \"./node_modules/Lodash/lodash.js\");\n\nvar lodash = _interopRequireWildcard(_Lodash);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _locations = function _locations() {\n    return {\n        locations: {}\n    };\n};\n\nfunction locationReducer() {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _locations();\n    var action = arguments[1];\n\n    Object.freeze(state);\n    var newState = {};\n    switch (action.type) {\n        case _mapActions.actionTypes.receiveLocations:\n            newState = lodash.merge({}, state, action.payload);\n            return newState;\n        case _mapActions.actionTypes.receiveWeatherConditions:\n            var weatherConditions = action.payload;\n            newState = lodash.merge({}, state);\n            newState.locations = insertWeatherConditions(weatherConditions, newState.locations);\n            return newState;\n        case _mapActions.actionTypes.receiveWorkOrders:\n            var workOrders = action.payload;\n            newState = lodash.merge({}, state);\n            newState.locations = insertWorkOrders(workOrders, newState.locations);\n            return newState;\n        case _mapActions.actionTypes.reset:\n            newState = locationReducer.defaultState();\n        default:\n            return state;\n\n    }\n}\n\nfunction insertWorkOrders(WOs, locations) {\n    WOs.forEach(function (wo) {\n        var locationId = wo.lid;\n        var location = locations[locationId];\n        if (location) {\n            (0, _workOrder.addWorkOrderToLocation)(location, wo);\n        }\n    });\n    return locations;\n}\nfunction insertWeatherConditions(WCs, locations) {\n    WCs.forEach(function (wc) {\n        var locationId = wc.lid;\n        var location = locations[locationId];\n        if (location) {\n            locations[locationId].weatherCondition = wc;\n        }\n    });\n    return locations;\n}\n\nlocationReducer.defaultState = _locations;\nexports.default = locationReducer;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9mcm9udGVuZC9iYXNlQXBwL3N0b3JlL3JlZHVjZXJzL2xvY2F0aW9uUmVkdWNlcnMvbG9jYXRpb25SZWNlaXZlclJlZHVjZXIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZnJvbnRlbmQvYmFzZUFwcC9zdG9yZS9yZWR1Y2Vycy9sb2NhdGlvblJlZHVjZXJzL2xvY2F0aW9uUmVjZWl2ZXJSZWR1Y2VyLmpzPzU1MTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHthY3Rpb25UeXBlc30gZnJvbSAnLi4vLi4vYWN0aW9ucy9tYXBBY3Rpb25zL21hcEFjdGlvbnMnXG5pbXBvcnQge2FkZFdvcmtPcmRlclRvTG9jYXRpb259IGZyb20gXCIuLi8uLi8uLi8uLi8uLi91dGlsL3dvcmtPcmRlclwiO1xuaW1wb3J0ICogYXMgbG9kYXNoIGZyb20gJ0xvZGFzaCc7XG5jb25zdCBfbG9jYXRpb25zID0gKCk9Pih7XG4gICAgbG9jYXRpb25zOnt9LFxufSk7XG5cbmZ1bmN0aW9uIGxvY2F0aW9uUmVkdWNlciAoc3RhdGUgPSBfbG9jYXRpb25zKCksIGFjdGlvbikge1xuICAgIE9iamVjdC5mcmVlemUoc3RhdGUpO1xuICAgIGxldCBuZXdTdGF0ZSA9IHt9O1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgICAgY2FzZSBhY3Rpb25UeXBlcy5yZWNlaXZlTG9jYXRpb25zOlxuICAgICAgICAgICAgbmV3U3RhdGUgPSBsb2Rhc2gubWVyZ2Uoe30sIHN0YXRlLCBhY3Rpb24ucGF5bG9hZCk7XG4gICAgICAgICAgICByZXR1cm4gbmV3U3RhdGVcbiAgICAgICAgY2FzZSBhY3Rpb25UeXBlcy5yZWNlaXZlV2VhdGhlckNvbmRpdGlvbnM6XG4gICAgICAgICAgICBjb25zdCB3ZWF0aGVyQ29uZGl0aW9ucyA9IGFjdGlvbi5wYXlsb2FkO1xuICAgICAgICAgICAgbmV3U3RhdGUgPSBsb2Rhc2gubWVyZ2Uoe30sIHN0YXRlKVxuICAgICAgICAgICAgbmV3U3RhdGUubG9jYXRpb25zID0gaW5zZXJ0V2VhdGhlckNvbmRpdGlvbnMod2VhdGhlckNvbmRpdGlvbnMsIG5ld1N0YXRlLmxvY2F0aW9ucyk7XG4gICAgICAgICAgICByZXR1cm4gbmV3U3RhdGVcbiAgICAgICAgY2FzZSBhY3Rpb25UeXBlcy5yZWNlaXZlV29ya09yZGVyczpcbiAgICAgICAgICAgIGNvbnN0IHdvcmtPcmRlcnMgPSBhY3Rpb24ucGF5bG9hZDtcbiAgICAgICAgICAgIG5ld1N0YXRlID0gbG9kYXNoLm1lcmdlKHt9LCBzdGF0ZSk7XG4gICAgICAgICAgICBuZXdTdGF0ZS5sb2NhdGlvbnMgPSBpbnNlcnRXb3JrT3JkZXJzKHdvcmtPcmRlcnMsIG5ld1N0YXRlLmxvY2F0aW9ucyk7XG4gICAgICAgICAgICByZXR1cm4gbmV3U3RhdGU7XG4gICAgICAgIGNhc2UgYWN0aW9uVHlwZXMucmVzZXQ6XG4gICAgICAgICAgICBuZXdTdGF0ZT1sb2NhdGlvblJlZHVjZXIuZGVmYXVsdFN0YXRlKClcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcblxuICAgIH1cbn1cblxuZnVuY3Rpb24gaW5zZXJ0V29ya09yZGVycyhXT3MsIGxvY2F0aW9ucyl7XG4gICAgV09zLmZvckVhY2god289PntcbiAgICAgICAgY29uc3QgbG9jYXRpb25JZCA9IHdvLmxpZFxuICAgICAgICBjb25zdCBsb2NhdGlvbiA9IGxvY2F0aW9uc1tsb2NhdGlvbklkXTtcbiAgICAgICAgaWYgKGxvY2F0aW9uKXtcbiAgICAgICAgICAgIGFkZFdvcmtPcmRlclRvTG9jYXRpb24obG9jYXRpb24sIHdvKTtcbiAgICAgICAgfVxuICAgIH0pXG4gICAgcmV0dXJuIGxvY2F0aW9uc1xufVxuZnVuY3Rpb24gaW5zZXJ0V2VhdGhlckNvbmRpdGlvbnMoV0NzLCBsb2NhdGlvbnMpe1xuICAgIFdDcy5mb3JFYWNoKHdjPT57XG4gICAgICAgIGNvbnN0IGxvY2F0aW9uSWQgPSB3Yy5saWRcbiAgICAgICAgY29uc3QgbG9jYXRpb24gPSBsb2NhdGlvbnNbbG9jYXRpb25JZF1cbiAgICAgICAgaWYgKGxvY2F0aW9uKXtcbiAgICAgICAgICAgIGxvY2F0aW9uc1tsb2NhdGlvbklkXS53ZWF0aGVyQ29uZGl0aW9uID0gd2NcbiAgICAgICAgfVxuICAgIH0pXG4gICAgcmV0dXJuIGxvY2F0aW9uc1xufVxuXG5sb2NhdGlvblJlZHVjZXIuZGVmYXVsdFN0YXRlPV9sb2NhdGlvbnNcbmV4cG9ydCBkZWZhdWx0IGxvY2F0aW9uUmVkdWNlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFDQTs7O0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUNBO0FBR0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFsQkE7QUFvQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./frontend/baseApp/store/reducers/locationReducers/locationReceiverReducer.js\n");

/***/ })

}]);